# 個人的穴場フォトスポット推薦に向けた大規模言語モデルによるフォトウォークデータの生成 / Generating Photowalk Data via Large Language Models for Personalized Hidden Gem Photo Spot Recommendations

## Recap

- フォトウォークにおける個人的穴場フォトスポット推薦の必要性
  - フォトウォークの定義
    - カメラを持って街を歩き，興味を引いたものを撮影する行為
  - 個人的穴場フォトスポットの定義
    - 誰もが訪れるスポットでも，誰も訪れないスポットでもない場所
      - 発見的: 一般的な人気が高いが，自分と同じ嗜好を持った人からの人気は低い
      - 独占的: 一般的な人気は低いが，自分と同じ嗜好を持った人からの人気は高い
  - フォトウォークにおいて個人的穴場を提案する意義
    - 自分の感性に合った被写体との出会いを促進
    - フォトウォーク本来の「発見する楽しさ」を増幅
  - 問題
    - 従来の人気スポット推薦手法では個人の嗜好が反映されない
- 目的と提案手法
  - 目的
    - 自分の感性に合ったフォトスポットとの出会いを促進する
  - 手段
    - 個人的穴場フォトスポットを推薦するシステムを構築する
  - 手法
    - 観光スポットと訪問者の同時クラスタリング手法をフォトウォークに応用
      - フォトスポットと撮影者の同時クラスタリング
      - フォトスポットのカテゴリから撮影者の嗜好を分析して個人的穴場を抽出
  - 次の課題（ここまでが課題研究Iまでに検討したこと）
    - フォトウォークデータの入手

## Background

- フォトウォークデータ生成の必要性
  - フォトウォークデータとは
    - 位置情報，被写体情報付きの撮影データ
  - 問題
    - フォトウォークデータを入手することが難しい
      - 密で大量の撮影データ
      - プライバシーの観点からデータ公開が難しい
      - 専用のプラットフォームが存在しない

## Purpose

- 目的と提案手法
  - 目的
    - 個人的穴場フォトスポット抽出手法の検証に向けたデータセットの構築
  - 手段
    - 大規模言語モデル（LLM）を用いた合成データ生成
  - 手法
    - フォトウォークデータに求める要件を言語化
    - Gemini API の構造化出力機能を用いてフォトウォークデータ生成

## Related Works

- TODO: 関連研究
  - LLMによる合成データ生成の信頼性
    - アンケート回答の再現性
      - Argyle et al. (2023) "Out of One, Many": LLMに多様な背景設定（人種，年齢，政治的思想など）を与えることで，実際の人間によるアンケート回答の分布（政治的選好など）を高い精度で再現できることを示した．
    - 行動シミュレーションの信頼性
      - Park et al. (2023) "Generative Agents": LLMを搭載したエージェントが，人間らしい社会的振る舞いや長期的な計画行動（朝起きて朝食を作り，仕事に行くなど）を自律的に生成できることを実証した．
    - 課題と本研究の位置づけ
      - 既存研究はテキストや一般的な行動ログが中心だが，本研究では「地理的制約（道路上）」と「画像生成（被写体）」を伴うフォトウォークデータの生成に挑戦する．
  - 地理空間情報の生成能力
    - MapAgent (2024): LLMが地理空間的な推論を行い，地図ツールと連携してタスクをこなすエージェントの枠組み．LLM単体では難しい正確な空間把握を，ツール利用や階層的な推論で補うことで高い精度を出せることを示している．
    - Spatial-RAG (2025): 空間的な検索とLLMの生成を組み合わせることで，現実世界の空間に関する質問応答の精度を向上させた研究．

## Method

- Gemini API の構造化出力機能を用いたフォトウォークデータ生成
  - Google Gemini API の構造化出力機能を使用
    - コンテキスト容量
    - 構造化出力の安定性
    - スループット
- フォトウォークデータに求める要件（スキーマ設計）
  - Session（1回のフォトウォーク）とRecord（各撮影地点）から構成
    - Session: ユーザID, Recordリスト
    - Record: 時刻, 緯度・経度, 被写体カテゴリ（landscape, building, vehicle, person, animal, plant）
  - それぞれのフィールドの説明を記述
- フォトウォークデータに求める要件（プロンプト設計）
  - エージェントの役割を明確化
  - 周回性
  - 地理的整合性
  - 生成条件（エリア名，データ規模）
  ```text
  あなたは<エリア名>エリアをフォトウォークするエージェントである．
  以下の条件に従って，フォトウォークを行いなさい．
  - <画像の枚数>枚程度の画像を撮影すること．
  - 徒歩<1セッションの時間>分程度の距離を歩くこと．
  - 出発地点と到着地点が同一であること．
  - 撮影する場所が地図の道路上であること．
  ```

## Implementation

- 実装
  - Python と Google GenAI SDK を使用
  - 並行処理による高速なデータ生成
  - Gemini 3 Flash Preview を使用
    - Gemini 2.5 Flash Lite: 周回性制約を遵守できない
    - Gemini 2.5 Flash: 地理的整合性を遵守できない

## Experiment

- 生成
  - 対象エリア
    - 北海道函館市（美原・神山・富岡町・中道エリア）
  - 行動制約
    - 徒歩30分程度の散歩コース
    - 10〜30枚程度の画像撮影
  - データ規模
    - 10人の撮影者 × 5セッション = 50セッション

## Evaluation

- 生成したデータの評価
  - スキーマ準拠性
    - TODO
  - 地理的整合性
    - 道路上率
      - TODO
    - エリア内包率
      - TODO
  - 行動制約の遵守
    - 周回性
      - TODO
    - 距離・時間
      - TODO
    - 撮影枚数
      - TODO
  - 多様性
    - 経路の多様性
      - TODO
    - 被写体の多様性
      - TODO
- 問題と解決策
  - TODO

## Plan

- 今後の方針
  - 解決策による既知の問題の解消
    - TODO
  - 個人の嗜好を反映したデータ生成
  - 撮影者とフォトスポットの同時クラスタリング
  - 個人的穴場フォトスポットの抽出
  - 推薦システムを構築
  - 推薦システムの生成データによる検証・被験者実験

## Conference

- 発表予定
  - 情報処理学会第88回全国大会（2026年3月）

## Summary

- まとめ
  - 背景
    - フォトウォークにおいて個人の感性に合った「個人的穴場」の推薦が必要
    - 推薦システムの構築に必要なフォトウォークデータ（位置・被写体情報）の入手が困難
  - 目的
    - 個人的穴場抽出に向けた，LLMによるフォトウォークデータの生成
  - 手法
    - Gemini APIの構造化出力を活用し，地理的整合性と行動制約を満たすデータを生成
  - 展望
    - 個人の嗜好を反映したデータ生成と，それを用いた推薦システムの構築・評価
